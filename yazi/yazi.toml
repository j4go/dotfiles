# Yazi v26.2.2 最佳实践配置
# https://yazi-rs.github.io/docs/configuration/yazi

[mgr]
ratio          = [ 2, 3, 4 ]
sort_by        = "natural"
sort_sensitive = false
sort_dir_first = true
linemode       = "size"
show_hidden    = true
show_symlink   = true
scrolloff      = 5

[preview]
tab_size      = 2
max_width     = 1600
max_height    = 1200
cache_dir     = ""        # 使用默认缓存路径
image_filter  = "lanczos3"
image_quality = 90

[opener]
edit = [
	{ run = '${EDITOR:-nvim} "$@"', block = true, for = "unix" },
]
play = [
	{ run = 'mpv "$@"', orphan = true, for = "unix" },
]
open = [
	{ run = 'open "$@"', desc = "Open", for = "macos" },
]

[open]
prepend_rules = [
	{ name = "*/", use = [ "edit", "open" ] },
	{ mime = "text/*", use = "edit" },
	{ mime = "image/*", use = "open" },
	{ mime = "video/*", use = "play" },
	{ name = "*.json", use = "edit" },
]

[plugin]
# 挂载 Git 插件，实现侧边栏实时状态显示
prepend_fetchers = [
	{ id = "git", name = "*", run = "git" },
	{ id = "git", name = "*/", run = "git" },
]

[theme]
# 使用刚才安装的主题包
flavor = { use = "catppuccin-mocha" }
